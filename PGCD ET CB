#include <stdio.h>

int main(void) {
    int choix;
    int a, b;
    printf("Choisir l'operation: 1 = PGCD,  2 = Coefficients de Bezout\n");
    printf("Votre choix: ");
    if (scanf("%d", &choix) != 1) return 0;

    printf("Entrer a: ");
    if (scanf("%d", &a) != 1) return 0;
    printf("Entrer b: ");
    if (scanf("%d", &b) != 1) return 0;

    int a0 = a, b0 = b; 

    if (choix == 1) {
        
        printf("\n=== Calcul du PGCD (methode d'Euclide) ===\n");
        while (b != 0) {
            int q = a / b;
            int r = a % b;
            printf("a = %d, b = %d, q = %d, r = %d\n", a, b, q, r);
            a = b;
            b = r;
        }
        printf("PGCD(%d, %d) = %d\n", a0, b0, a);
    } else if (choix == 2) {
       
        int x1 = 1, x2 = 0;
        int y1 = 0, y2 = 1;
        printf("\n=== Calcul des coefficients de Bezout ===\n");
        while (b != 0) {
            int q = a / b;
            int r = a % b;
            printf("\nEtape: a = %d, b = %d\n", a, b);
            printf("q = %d, r = %d\n", q, r);

            int tx = x1 - q * x2;
            int ty = y1 - q * y2;
            printf("Calcul x: %d - (%d * %d) = %d\n", x1, q, x2, tx);
            printf("Calcul y: %d - (%d * %d) = %d\n", y1, q, y2, ty);

            a = b;
            b = r;
            x1 = x2; x2 = tx;
            y1 = y2; y2 = ty;
        }
        printf("\nPGCD(%d, %d) = %d\n", a0, b0, a);
        printf("Coefficients de Bezout: x = %d, y = %d\n", x1, y1);
        printf("Verification: %d*(%d) + %d*(%d) = %d\n",
               a0, x1, b0, y1, a0 * x1 + b0 * y1);
    } else {
        printf("Choix invalide. Fin.\n");
    }

    return 0;
}
